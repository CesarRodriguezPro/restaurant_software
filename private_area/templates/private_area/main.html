{% extends 'private_area/base.html' %}
{% load static %}
{% load widget_tweaks %}

{% block title %} Login {% endblock %}

{% block content %}

<div class="card">
    <div class="card-header">
        <div class="row">
            <div class="col">
                <h3>Today's Appointments</h3>
            </div>
            <div class="col text-end">
                <a class="btn btn-primary" href="{% url 'appointments:create' %}">+</a>
            </div>
        </div>
    </div>
    <div class="card-body">
        {% if restaurants %}
            <select name="restaurant" hx-swap="outerHTML" class="form-control">
                {% for restaurant in restaurants %}
                    <option value="{{ restaurant.pk }}"
                            hx-get="{% url 'private_area:get_restaurant_active' restaurant.pk %}"
                            hx-target="#appointments-container"
                            hx-trigger="click">
                        {{ restaurant.name }}
                    </option>
                {% endfor %}
            </select>
        {% endif %}
        <div id="appointments-container">
            {% include 'private_area/partials/today_appointments.html' %}
        </div>
    </div>
</div>

{% endblock %}
